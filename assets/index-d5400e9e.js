var g=Object.defineProperty;var y=(e,t,i)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var c=(e,t,i)=>(y(e,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();const style="";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lib={},types={};Object.defineProperty(types,"__esModule",{value:!0});var ee={},taskCollection$1={},taskCollection={},utils$1={};Object.defineProperty(utils$1,"__esModule",{value:!0});utils$1._fast_remove_single=void 0;function _fast_remove_single(e,t){t!==-1&&(t===0?e.shift():t===e.length-1?e.length=e.length-1:e.splice(t,1))}utils$1._fast_remove_single=_fast_remove_single;var bakeCollection={};(function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.bakeCollectionVariadic=exports.bakeCollectionAwait=exports.bakeCollection=exports.BAKED_EMPTY_FUNC=void 0,exports.BAKED_EMPTY_FUNC=function(){};var FORLOOP_FALLBACK=1500;function generateArgsDefCode(e){var t="";if(e===0)return t;for(var i=0;i<e-1;++i)t+="arg"+String(i)+", ";return t+="arg"+String(e-1),t}function generateBodyPartsCode(e,t){for(var i="",n="",s=0;s<t;++s)i+="var f".concat(s," = collection[").concat(s,`];
`),n+="f".concat(s,"(").concat(e,`)
`);return{funcDefCode:i,funcCallCode:n}}function generateBodyPartsVariadicCode(e){for(var t="",i="",n=0;n<e;++n)t+="var f".concat(n," = collection[").concat(n,`];
`),i+="f".concat(n,`.apply(undefined, arguments)
`);return{funcDefCode:t,funcCallCode:i}}function bakeCollection(collection,fixedArgsNum){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `.concat(funcDefCode,`
            collection = undefined;
            return (function(`).concat(argsDefCode,`) {
                `).concat(funcCallCode,`
            });
        })`)}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);collection.length%10===0?funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; i += 10) {
                        collection[i](`).concat(argsDefCode,`);
                        collection[i+1](`).concat(argsDefCode,`);
                        collection[i+2](`).concat(argsDefCode,`);
                        collection[i+3](`).concat(argsDefCode,`);
                        collection[i+4](`).concat(argsDefCode,`);
                        collection[i+5](`).concat(argsDefCode,`);
                        collection[i+6](`).concat(argsDefCode,`);
                        collection[i+7](`).concat(argsDefCode,`);
                        collection[i+8](`).concat(argsDefCode,`);
                        collection[i+9](`).concat(argsDefCode,`);
                    }
                });
            })`):collection.length%4===0?funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; i += 4) {
                        collection[i](`).concat(argsDefCode,`);
                        collection[i+1](`).concat(argsDefCode,`);
                        collection[i+2](`).concat(argsDefCode,`);
                        collection[i+3](`).concat(argsDefCode,`);
                    }
                });
            })`):collection.length%3===0?funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; i += 3) {
                        collection[i](`).concat(argsDefCode,`);
                        collection[i+1](`).concat(argsDefCode,`);
                        collection[i+2](`).concat(argsDefCode,`);
                    }
                });
            })`):funcFactoryCode=`(function(collection) {
                return (function(`.concat(argsDefCode,`) {
                    for (var i = 0; i < collection.length; ++i) {
                        collection[i](`).concat(argsDefCode,`);
                    }
                });
            })`)}{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollection=bakeCollection;function bakeCollectionAwait(collection,fixedArgsNum){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `.concat(funcDefCode,`
            collection = undefined;
            return (function(`).concat(argsDefCode,`) {
                return Promise.all([ `).concat(funcCallCode,` ]);
            });
        })`)}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);funcFactoryCode=`(function(collection) {
            return (function(`.concat(argsDefCode,`) {
                var promises = Array(collection.length);
                for (var i = 0; i < collection.length; ++i) {
                    promises[i] = collection[i](`).concat(argsDefCode,`);
                }
                return Promise.all(promises);
            });
        })`)}{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollectionAwait=bakeCollectionAwait;function bakeCollectionVariadic(collection){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var _a=generateBodyPartsVariadicCode(collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `.concat(funcDefCode,`
            collection = undefined;
            return (function() {
                `).concat(funcCallCode,`
            });
        })`)}else funcFactoryCode=`(function(collection) {
            return (function() {
                for (var i = 0; i < collection.length; ++i) {
                    collection[i].apply(undefined, arguments);
                }
            });
        })`;{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollectionVariadic=bakeCollectionVariadic})(bakeCollection);var __spreadArray$1=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t,i){if(i||arguments.length===2)for(var n=0,s=t.length,r;n<s;n++)(r||!(n in t))&&(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(taskCollection,"__esModule",{value:!0});taskCollection.TaskCollection=void 0;var utils_1$1=utils$1,bake_collection_1=bakeCollection;function push_norebuild(e,t){var i=this.length;if(i>1)if(t){var n;(n=this._tasks).push.apply(n,arguments),this.length+=arguments.length}else this._tasks.push(e),this.length++;else if(t){if(i===1){var s=Array(1+arguments.length);s.push(s),s.push.apply(s,arguments),this._tasks=s}else{var s=Array(arguments.length);s.push.apply(s,arguments),this._tasks=s}this.length+=arguments.length}else i===1?this._tasks=[this._tasks,e]:this._tasks=e,this.length++}function push_rebuild(e,t){var i=this.length;if(i>1)if(t){var n;(n=this._tasks).push.apply(n,arguments),this.length+=arguments.length}else this._tasks.push(e),this.length++;else if(t){if(i===1){var s=Array(1+arguments.length);s.push(s),s.push.apply(s,arguments),this._tasks=s}else{var s=Array(arguments.length);s.push.apply(s,arguments),this._tasks=s}this.length+=arguments.length}else i===1?this._tasks=[this._tasks,e]:this._tasks=e,this.length++;this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}function removeLast_norebuild(e){this.length!==0&&(this.length===1?this._tasks===e&&(this.length=0):((0,utils_1$1._fast_remove_single)(this._tasks,this._tasks.lastIndexOf(e)),this._tasks.length===1?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length))}function removeLast_rebuild(e){if(this.length!==0){if(this.length===1)if(this._tasks===e&&(this.length=0),this.firstEmitBuildStrategy){this.call=bake_collection_1.BAKED_EMPTY_FUNC;return}else{this.rebuild();return}else(0,utils_1$1._fast_remove_single)(this._tasks,this._tasks.lastIndexOf(e)),this._tasks.length===1?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length;this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}}function insert_norebuild(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.length===0?(this._tasks=i,this.length=1):this.length===1?(i.unshift(this._tasks),this._tasks=i,this.length=this._tasks.length):((t=this._tasks).splice.apply(t,__spreadArray$1([e,0],i,!1)),this.length=this._tasks.length)}function insert_rebuild(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.length===0?(this._tasks=i,this.length=1):this.length===1?(i.unshift(this._tasks),this._tasks=i,this.length=this._tasks.length):((t=this._tasks).splice.apply(t,__spreadArray$1([e,0],i,!1)),this.length=this._tasks.length),this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}function rebuild_noawait(){this.length===0?this.call=bake_collection_1.BAKED_EMPTY_FUNC:this.length===1?this.call=this._tasks:this.call=(0,bake_collection_1.bakeCollection)(this._tasks,this.argsNum)}function rebuild_await(){this.length===0?this.call=bake_collection_1.BAKED_EMPTY_FUNC:this.length===1?this.call=this._tasks:this.call=(0,bake_collection_1.bakeCollectionAwait)(this._tasks,this.argsNum)}function rebuild_on_first_call(){this.rebuild(),this.call.apply(void 0,arguments)}var TaskCollection=function(){function e(t,i,n,s){i===void 0&&(i=!0),n===void 0&&(n=null),s===void 0&&(s=!1),this.awaitTasks=s,this.call=bake_collection_1.BAKED_EMPTY_FUNC,this.argsNum=t,this.firstEmitBuildStrategy=!0,s?this.rebuild=rebuild_await.bind(this):this.rebuild=rebuild_noawait.bind(this),this.setAutoRebuild(i),n?typeof n=="function"?(this._tasks=n,this.length=1):(this._tasks=n,this.length=n.length):(this._tasks=null,this.length=0),i&&this.rebuild()}return e}();taskCollection.TaskCollection=TaskCollection;function fastClear(){this._tasks=null,this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC}function clear(){this._tasks=null,this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC}function growArgsNum(e){this.argsNum<e&&(this.argsNum=e,this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild())}function setAutoRebuild(e){e?(this.push=push_rebuild.bind(this),this.insert=insert_rebuild.bind(this),this.removeLast=removeLast_rebuild.bind(this)):(this.push=push_norebuild.bind(this),this.insert=insert_norebuild.bind(this),this.removeLast=removeLast_norebuild.bind(this))}function tasksAsArray(){return this.length===0?[]:this.length===1?[this._tasks]:this._tasks}function setTasks(e){e.length===0?(this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC):e.length===1?(this.length=1,this.call=e[0],this._tasks=e[0]):(this.length=e.length,this._tasks=e,this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild())}TaskCollection.prototype.fastClear=fastClear;TaskCollection.prototype.clear=clear;TaskCollection.prototype.growArgsNum=growArgsNum;TaskCollection.prototype.setAutoRebuild=setAutoRebuild;TaskCollection.prototype.tasksAsArray=tasksAsArray;TaskCollection.prototype.setTasks=setTasks;(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,s,r,o){o===void 0&&(o=r);var l=Object.getOwnPropertyDescriptor(s,r);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[r]}}),Object.defineProperty(n,o,l)}:function(n,s,r,o){o===void 0&&(o=r),n[o]=s[r]}),i=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,s){for(var r in n)r!=="default"&&!Object.prototype.hasOwnProperty.call(s,r)&&t(s,n,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(taskCollection,e)})(taskCollection$1);var utils={};Object.defineProperty(utils,"__esModule",{value:!0});utils.nullObj=void 0;function nullObj(){var e={};return e.__proto__=null,e}utils.nullObj=nullObj;var __spreadArray=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t,i){if(i||arguments.length===2)for(var n=0,s=t.length,r;n<s;n++)(r||!(n in t))&&(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(ee,"__esModule",{value:!0});ee.EventEmitter=void 0;var task_collection_1=taskCollection$1,utils_1=utils$1,utils_2=utils;function emit(e,t,i,n,s,r){var o=this.events[e];if(o){if(o.length===0)return!1;if(o.argsNum<6)o.call(t,i,n,s,r);else{for(var l=new Array(o.argsNum),a=0,u=l.length;a<u;++a)l[a]=arguments[a+1];o.call.apply(void 0,l)}return!0}return!1}function emitHasOnce(e,t,i,n,s,r){var o=this.events[e],l;if(o!==void 0){if(o.length===0)return!1;if(o.argsNum<6)o.call(t,i,n,s,r);else{l=new Array(o.argsNum);for(var a=0,u=l.length;a<u;++a)l[a]=arguments[a+1];o.call.apply(void 0,l)}}var f=this.onceEvents[e];if(f){if(typeof f=="function")if(this.onceEvents[e]=void 0,arguments.length<6)f(t,i,n,s,r);else{if(l===void 0){l=new Array(arguments.length-1);for(var a=0,u=l.length;a<u;++a)l[a]=arguments[a+1]}f.apply(void 0,l)}else{var d=f;if(this.onceEvents[e]=void 0,arguments.length<6)for(var a=0;a<d.length;++a)d[a](t,i,n,s,r);else{if(l===void 0){l=new Array(arguments.length-1);for(var a=0,u=l.length;a<u;++a)l[a]=arguments[a+1]}for(var a=0;a<d.length;++a)d[a].apply(void 0,l)}}return!0}return o!==void 0}var EventEmitter=function(){function e(){this.events=(0,utils_2.nullObj)(),this.onceEvents=(0,utils_2.nullObj)(),this._symbolKeys=new Set,this.maxListeners=1/0}return Object.defineProperty(e.prototype,"_eventsCount",{get:function(){return this.eventNames().length},enumerable:!1,configurable:!0}),e}();ee.EventEmitter=EventEmitter;function once(e,t){switch(this.emit===emit&&(this.emit=emitHasOnce),typeof this.onceEvents[e]){case"undefined":this.onceEvents[e]=t,typeof e=="symbol"&&this._symbolKeys.add(e);break;case"function":this.onceEvents[e]=[this.onceEvents[e],t];break;case"object":this.onceEvents[e].push(t)}return this}function addListener(e,t,i){if(i===void 0&&(i=t.length),typeof t!="function")throw new TypeError("The listener must be a function");var n=this.events[e];return n?(n.push(t),n.growArgsNum(i),this.maxListeners!==1/0&&this.maxListeners<=n.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))):(this.events[e]=new task_collection_1.TaskCollection(i,!0,t,!1),typeof e=="symbol"&&this._symbolKeys.add(e)),this}function removeListener(e,t){var i=this.events[e];i&&i.removeLast(t);var n=this.onceEvents[e];return n&&(typeof n=="function"?this.onceEvents[e]=void 0:typeof n=="object"&&(n.length===1&&n[0]===t?this.onceEvents[e]=void 0:(0,utils_1._fast_remove_single)(n,n.lastIndexOf(t)))),this}function addListenerBound(e,t,i,n){i===void 0&&(i=this),n===void 0&&(n=t.length),this.boundFuncs||(this.boundFuncs=new Map);var s=t.bind(i);return this.boundFuncs.set(t,s),this.addListener(e,s,n)}function removeListenerBound(e,t){var i,n,s=(i=this.boundFuncs)===null||i===void 0?void 0:i.get(t);return(n=this.boundFuncs)===null||n===void 0||n.delete(t),this.removeListener(e,s)}function hasListeners(e){return this.events[e]&&!!this.events[e].length}function prependListener(e,t,i){if(i===void 0&&(i=t.length),typeof t!="function")throw new TypeError("The listener must be a function");var n=this.events[e];return!n||!(n instanceof task_collection_1.TaskCollection)?(n=this.events[e]=new task_collection_1.TaskCollection(i,!0,t,!1),typeof e=="symbol"&&this._symbolKeys.add(e)):(n.insert(0,t),n.growArgsNum(i),this.maxListeners!==1/0&&this.maxListeners<=n.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))),this}function prependOnceListener(e,t){this.emit===emit&&(this.emit=emitHasOnce);var i=this.onceEvents[e];return i?typeof i!="object"?(this.onceEvents[e]=[t,i],typeof e=="symbol"&&this._symbolKeys.add(e)):(i.unshift(t),this.maxListeners!==1/0&&this.maxListeners<=i.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" once event!'))):(this.onceEvents[e]=[t],typeof e=="symbol"&&this._symbolKeys.add(e)),this}function removeAllListeners(e){return e===void 0?(this.events=(0,utils_2.nullObj)(),this.onceEvents=(0,utils_2.nullObj)(),this._symbolKeys=new Set):(this.events[e]=void 0,this.onceEvents[e]=void 0,typeof e=="symbol"&&this._symbolKeys.delete(e)),this}function setMaxListeners(e){return this.maxListeners=e,this}function getMaxListeners(){return this.maxListeners}function listeners(e){return this.emit===emit?this.events[e]?this.events[e].tasksAsArray().slice():[]:this.events[e]&&this.onceEvents[e]?__spreadArray(__spreadArray([],this.events[e].tasksAsArray(),!0),typeof this.onceEvents[e]=="function"?[this.onceEvents[e]]:this.onceEvents[e],!0):this.events[e]?this.events[e].tasksAsArray():this.onceEvents[e]?typeof this.onceEvents[e]=="function"?[this.onceEvents[e]]:this.onceEvents[e]:[]}function eventNames(){var e=this;if(this.emit===emit){var t=Object.keys(this.events);return __spreadArray(__spreadArray([],t,!0),Array.from(this._symbolKeys),!0).filter(function(n){return n in e.events&&e.events[n]&&e.events[n].length})}else{var t=Object.keys(this.events).filter(function(s){return e.events[s]&&e.events[s].length}),i=Object.keys(this.onceEvents).filter(function(s){return e.onceEvents[s]&&e.onceEvents[s].length});return __spreadArray(__spreadArray(__spreadArray([],t,!0),i,!0),Array.from(this._symbolKeys).filter(function(s){return s in e.events&&e.events[s]&&e.events[s].length||s in e.onceEvents&&e.onceEvents[s]&&e.onceEvents[s].length}),!0)}}function listenerCount(e){return this.emit===emit?this.events[e]&&this.events[e].length||0:(this.events[e]&&this.events[e].length||0)+(this.onceEvents[e]&&this.onceEvents[e].length||0)}EventEmitter.prototype.emit=emit;EventEmitter.prototype.on=addListener;EventEmitter.prototype.once=once;EventEmitter.prototype.addListener=addListener;EventEmitter.prototype.removeListener=removeListener;EventEmitter.prototype.addListenerBound=addListenerBound;EventEmitter.prototype.removeListenerBound=removeListenerBound;EventEmitter.prototype.hasListeners=hasListeners;EventEmitter.prototype.prependListener=prependListener;EventEmitter.prototype.prependOnceListener=prependOnceListener;EventEmitter.prototype.off=removeListener;EventEmitter.prototype.removeAllListeners=removeAllListeners;EventEmitter.prototype.setMaxListeners=setMaxListeners;EventEmitter.prototype.getMaxListeners=getMaxListeners;EventEmitter.prototype.listeners=listeners;EventEmitter.prototype.eventNames=eventNames;EventEmitter.prototype.listenerCount=listenerCount;(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,s,r,o){o===void 0&&(o=r);var l=Object.getOwnPropertyDescriptor(s,r);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[r]}}),Object.defineProperty(n,o,l)}:function(n,s,r,o){o===void 0&&(o=r),n[o]=s[r]}),i=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,s){for(var r in n)r!=="default"&&!Object.prototype.hasOwnProperty.call(s,r)&&t(s,n,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(types,e),i(ee,e)})(lib);const fallbackTransition={promise:Promise.resolve()};class PeekAHeader{constructor(t,{autoUpdateTransform:i=!0,transitionStrategy:n,autoAriaHidden:s=!0,autoSnap:r=!1,isTop:o=!1,cacheStaticOffset:l=!0,snapOnWheel:a=null}={}){c(this,"element");c(this,"homeY");c(this,"headerHeight");c(this,"hidden",!1);c(this,"locked",null);c(this,"currentTranslateY",null);c(this,"resizeObserver");c(this,"previousScrollY");c(this,"eventEmitter");c(this,"sticky",null);c(this,"autoUpdateTransform");c(this,"transitionStrategy",null);c(this,"autoAriaHidden",!0);c(this,"autoSnap",!1);c(this,"cachedStaticOffset",null);c(this,"isTop");c(this,"shouldCacheStaticOffset");c(this,"currentScroll",null);c(this,"snapOnWheel");c(this,"onScrollFunction",()=>{this.onScroll()});c(this,"onScrollEndFunction",()=>{this.onScrollEnd()});c(this,"onWheelFunction",t=>{this.onWheel()});this.previousScrollY=window.scrollY,this.element=t;const u=t.getBoundingClientRect();this.homeY=this.calculateHomeY(u),this.headerHeight=u.height,this.autoUpdateTransform=i,this.transitionStrategy=n??null,this.autoAriaHidden=s,this.autoSnap=r,this.isTop=o,this.shouldCacheStaticOffset=l,this.snapOnWheel=a,this.resizeObserver=new ResizeObserver(()=>{this.updateHomeY(),this.updateHeaderHeight()}),this.resizeObserver.observe(t),window.addEventListener("scroll",this.onScrollFunction),window.addEventListener("scrollend",this.onScrollEndFunction),window.addEventListener("wheel",this.onWheelFunction),this.eventEmitter=new lib.EventEmitter,this.autoAriaHidden&&(this.on("hidden",()=>{this.element.setAttribute("aria-hidden","true")}),this.on("unhidden",()=>{this.element.setAttribute("aria-hidden","false")})),(u.y>0||window.scrollY<=0)&&this.cacheStaticOffset()}on(t,i){this.eventEmitter.on(t,i)}off(t,i){this.eventEmitter.off(t,i)}cacheStaticOffset(){this.isSticky()&&this.shouldCacheStaticOffset&&this.cachedStaticOffset===null&&(this.cachedStaticOffset=this.getStaticOffset())}emit(t,...i){this.eventEmitter.emit(t,...i)}onScrollEnd(){this.autoSnap&&this.snap(),this.currentScroll=null}invalidateSticky(){this.sticky=null,this.isSticky()}isSticky(t=!0){if(t&&this.sticky!==null)return this.sticky;const n=window.getComputedStyle(this.element).position==="sticky";return this.sticky=n,n}applyTransform(){let t;this.currentTranslateY===null?this.hidden?(t="-100%",this.emit("progress",{progress:1,amount:-this.headerHeight})):(t="0px",this.emit("progress",{progress:0,amount:0})):(t=`${this.currentTranslateY}px`,this.emit("progress",{progress:this.currentTranslateY,amount:this.currentTranslateY})),this.autoUpdateTransform&&(this.element.style.transform=`translateY(${t})`)}lock(t="hidden"){switch(t){case"hidden":this.locked=t,this.partialHide();break;case"shown":this.locked=t,this.show();break;case"current":this.locked=this.getTranslateYNumber();break;default:throw new Error(`Unknown lock position ${t}`)}}unlock(){this.locked=null}isLocked(){return this.locked!==null}transitonShow(t=!1){var n;if(t)return fallbackTransition;const i=(n=this.transitionStrategy)==null?void 0:n.show(this.element,{from:{y:this.getTranslateYNumber()},to:{y:0}});return i&&(this.emit("transitionStart"),i.promise.then(()=>{this.emit("transitionEnd")})),i??fallbackTransition}transitionHide(t=!1,i="-100%"){var n;return t?fallbackTransition:((n=this.transitionStrategy)==null?void 0:n.hide(this.element,{from:{y:this.getTranslateYNumber()},to:{y:i}}))??fallbackTransition}async show(t=!0){if(this.getTranslateYNumber()===0)return;const i=this.transitonShow(!t),{applyTransform:n="after",promise:s}=i;this.hidden=!1,this.currentTranslateY=null,n==="before"&&(this.applyTransform(),this.emit("unhidden")),await s,n==="after"&&this.applyTransform(),n!=="before"&&this.emit("unhidden")}async hide(t=!0){if(this.hidden)return;const i=this.transitionHide(!t),{applyTransform:n="after",promise:s}=i;this.hidden=!0,this.currentTranslateY=null,n==="before"&&this.applyTransform(),await s,n==="after"&&this.applyTransform(),this.cacheStaticOffset(),this.emit("hidden")}async partialHide(t=!0){if(!this.isSticky()){this.hide();return}const i=this.getTranslateYNumber(),n=this.element.offsetTop+i,s=this.getStaticOffset(),r=n-s,o=this.headerHeight+i;if(r>=o){await this.hide();return}const l=this.capTranslateY(i-Math.min(r,o));if(i===l)return;this.currentTranslateY=l;const a=this.transitionHide(!t,l),{applyTransform:u="after",promise:f}=a;u==="before"&&this.applyTransform(),await f,u==="after"&&this.applyTransform()}invalidateStaticOffset(){this.cachedStaticOffset=null,(this.hidden||window.scrollY===0||this.element.getBoundingClientRect().y>0)&&this.cacheStaticOffset()}getStaticOffset(t=!0){if(this.isTop)return 0;if(t&&this.cachedStaticOffset!==null)return this.cachedStaticOffset;this.element.style.position="relative";const i=this.element.offsetTop;return this.element.style.position="",this.cachedStaticOffset=i,i}async snap(){this.currentTranslateY!==null&&(this.currentTranslateY>-this.headerHeight/2?await this.show():await this.partialHide())}destroy(){this.resizeObserver.disconnect(),this.eventEmitter.removeAllListeners(),window.removeEventListener("scroll",this.onScrollFunction),window.removeEventListener("scrollend",this.onScrollEndFunction),window.removeEventListener("wheel",this.onWheelFunction)}calculateHomeY(t){return(t??this.element.getBoundingClientRect()).top+window.scrollY}updateHomeY(){this.homeY=this.calculateHomeY()}updateHeaderHeight(){this.headerHeight=this.element.getBoundingClientRect().height}capTranslateY(t){const i=Math.max(t,-this.headerHeight);return Math.min(i,0)}getTranslateYNumber(){return this.currentTranslateY?this.currentTranslateY:this.hidden?-this.headerHeight:0}handleWheelSnap(t){if(!(!this.snapOnWheel||this.locked)&&t!==2){if(t===0){this.show();return}if(this.snapOnWheel==="full"){this.hide();return}this.partialHide()}}onWheel(){var t;(t=this.currentScroll)==null||t.isWheel,this.currentScroll?(this.currentScroll.isWheel=!0,this.currentScroll.hasScrolled=!0):this.currentScroll={isWheel:!0,direction:2,hasScrolled:!0},this.handleWheelSnap(this.currentScroll.direction)}onScroll(){const t=Math.max(window.scrollY,0),i=t-this.previousScrollY,n=t<this.homeY?i-(this.homeY-t):i;if(this.previousScrollY=t,n===0)return;const s=n<0?0:1,r=!this.currentScroll||this.currentScroll.direction!==s;switch(this.currentScroll||(this.currentScroll={isWheel:!1,direction:s,hasScrolled:!0}),r&&(this.currentScroll.direction=s,this.currentScroll.isWheel&&this.handleWheelSnap(s)),this.updateHomeY(),s){case 0:if(!this.hidden&&this.currentTranslateY===null)return;break;case 1:if(this.hidden)return;break}if(this.isLocked())return this.isSticky(),void 0;const o=this.getTranslateYNumber(),l=this.capTranslateY(o-n);l===0?(this.currentTranslateY=null,this.hidden=!1,this.emit("unhidden")):l===-this.headerHeight?(this.currentTranslateY=null,this.hidden=!0,this.cacheStaticOffset(),this.emit("hidden")):(this.currentTranslateY=l,this.hidden&&(this.hidden=!1,this.emit("unhidden"))),this.applyTransform()}}const isClassValid=e=>!e.includes(" ")&&e!=="",isClassInvalid=e=>!isClassValid(e);class TransitionClassStrategy{constructor(t){c(this,"showClass");c(this,"hideClass");const{showClass:i,hideClass:n}=t;if(this.showClass=Array.isArray(i)?i:[i],this.hideClass=Array.isArray(n)?n:[n],this.showClass.some(isClassInvalid)||this.hideClass.some(isClassInvalid))throw new Error("Classes cannot contain whitespace or be empty. Split them up in an array first")}hide(t){return this.transition(t,!1)}show(t){return this.transition(t,!0)}transition(t,i){const n=i?this.showClass:this.hideClass;return{promise:new Promise(r=>{const o=()=>{t.classList.remove(...n),r()};t.addEventListener("transitionend",o,{once:!0}),t.classList.add(...n)}),applyTransform:"before"}}}window.addEventListener("DOMContentLoaded",()=>{const e=[],t=new TransitionClassStrategy({showClass:"transition-transforms",hideClass:"transition-transforms"}),i=document.getElementById("peek-a-header-sticky");if(i){const h=new PeekAHeader(i,{transitionStrategy:t});e.push(h)}const n=document.getElementById("peek-a-header-fixed");if(n){const h=new PeekAHeader(n,{transitionStrategy:t});e.push(h)}const s=document.getElementById("peek-a-header-sticky-auto-snap");if(s){const h=new PeekAHeader(s,{transitionStrategy:t,autoSnap:!0});e.push(h)}const r=document.getElementById("peek-a-header-wheel-snap");if(r){const h=new PeekAHeader(r,{transitionStrategy:t,snapOnWheel:"full",isTop:!0});e.push(h),console.log(h)}const o=document.getElementById("hide-button");o&&o.addEventListener("click",()=>{e.forEach(h=>h.hide())});const l=document.getElementById("show-button");l&&l.addEventListener("click",()=>{e.forEach(h=>h.show())});const a=document.getElementById("snap-button");a&&a.addEventListener("click",()=>{e.forEach(h=>h.snap())});const u=document.getElementById("partial-hide-button");u&&u.addEventListener("click",()=>{e.forEach(h=>h.partialHide())});const f=document.getElementById("lock-hidden-button");f&&f.addEventListener("click",()=>{e.forEach(h=>h.lock("hidden"))});const d=document.getElementById("lock-shown-button");d&&d.addEventListener("click",()=>{e.forEach(h=>h.lock("shown"))});const m=document.getElementById("lock-current-button");m&&m.addEventListener("click",()=>{e.forEach(h=>h.lock("current"))});const p=document.getElementById("unlock-button");p&&p.addEventListener("click",()=>{e.forEach(h=>h.unlock())})});
