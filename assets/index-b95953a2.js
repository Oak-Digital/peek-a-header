var g=Object.defineProperty;var p=(t,e,n)=>e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var l=(t,e,n)=>(p(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const style="";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lib={},types={};Object.defineProperty(types,"__esModule",{value:!0});function asTypedEventEmitter(t){return t}types.asTypedEventEmitter=asTypedEventEmitter;var ee={},taskCollection$1={},taskCollection={},bakeCollection={};(function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.BAKED_EMPTY_FUNC=function(){};var FORLOOP_FALLBACK=1500;function generateArgsDefCode(t){var e="";if(t===0)return e;for(var n=0;n<t-1;++n)e+="arg"+String(n)+", ";return e+="arg"+String(t-1),e}function generateBodyPartsCode(t,e){for(var n="",s="",i=0;i<e;++i)n+="var f"+i+" = collection["+i+`];
`,s+="f"+i+"("+t+`)
`;return{funcDefCode:n,funcCallCode:s}}function generateBodyPartsVariadicCode(t){for(var e="",n="",s=0;s<t;++s)e+="var f"+s+" = collection["+s+`];
`,n+="f"+s+`.apply(undefined, arguments)
`;return{funcDefCode:e,funcCallCode:n}}function bakeCollection(collection,fixedArgsNum){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `+funcDefCode+`
            collection = undefined;
            return (function(`+argsDefCode+`) {
                `+funcCallCode+`
            });
        })`}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);collection.length%10===0?funcFactoryCode=`(function(collection) {
                return (function(`+argsDefCode+`) {
                    for (var i = 0; i < collection.length; i += 10) {
                        collection[i](`+argsDefCode+`);
                        collection[i+1](`+argsDefCode+`);
                        collection[i+2](`+argsDefCode+`);
                        collection[i+3](`+argsDefCode+`);
                        collection[i+4](`+argsDefCode+`);
                        collection[i+5](`+argsDefCode+`);
                        collection[i+6](`+argsDefCode+`);
                        collection[i+7](`+argsDefCode+`);
                        collection[i+8](`+argsDefCode+`);
                        collection[i+9](`+argsDefCode+`);
                    }
                });
            })`:collection.length%4===0?funcFactoryCode=`(function(collection) {
                return (function(`+argsDefCode+`) {
                    for (var i = 0; i < collection.length; i += 4) {
                        collection[i](`+argsDefCode+`);
                        collection[i+1](`+argsDefCode+`);
                        collection[i+2](`+argsDefCode+`);
                        collection[i+3](`+argsDefCode+`);
                    }
                });
            })`:collection.length%3===0?funcFactoryCode=`(function(collection) {
                return (function(`+argsDefCode+`) {
                    for (var i = 0; i < collection.length; i += 3) {
                        collection[i](`+argsDefCode+`);
                        collection[i+1](`+argsDefCode+`);
                        collection[i+2](`+argsDefCode+`);
                    }
                });
            })`:funcFactoryCode=`(function(collection) {
                return (function(`+argsDefCode+`) {
                    for (var i = 0; i < collection.length; ++i) {
                        collection[i](`+argsDefCode+`);
                    }
                });
            })`}{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollection=bakeCollection;function bakeCollectionAwait(collection,fixedArgsNum){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `+funcDefCode+`
            collection = undefined;
            return (function(`+argsDefCode+`) {
                return Promise.all([ `+funcCallCode+` ]);
            });
        })`}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);funcFactoryCode=`(function(collection) {
            return (function(`+argsDefCode+`) {
                var promises = Array(collection.length);
                for (var i = 0; i < collection.length; ++i) {
                    promises[i] = collection[i](`+argsDefCode+`);
                }
                return Promise.all(promises);
            });
        })`}{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollectionAwait=bakeCollectionAwait;function bakeCollectionVariadic(collection){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var _a=generateBodyPartsVariadicCode(collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `+funcDefCode+`
            collection = undefined;
            return (function() {
                `+funcCallCode+`
            });
        })`}else funcFactoryCode=`(function(collection) {
            return (function() {
                for (var i = 0; i < collection.length; ++i) {
                    collection[i].apply(undefined, arguments);
                }
            });
        })`;{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollectionVariadic=bakeCollectionVariadic})(bakeCollection);var __spreadArrays$1=commonjsGlobal&&commonjsGlobal.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var s=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],r=0,c=o.length;r<c;r++,i++)s[i]=o[r];return s};Object.defineProperty(taskCollection,"__esModule",{value:!0});var bake_collection_1=bakeCollection;function push_norebuild(t,e){var n=this.length;if(n>1)if(e){var s;(s=this._tasks).push.apply(s,arguments),this.length+=arguments.length}else this._tasks.push(t),this.length++;else if(e){if(n===1){var i=Array(1+arguments.length);i.push(i),i.push.apply(i,arguments),this._tasks=i}else{var i=Array(arguments.length);i.push.apply(i,arguments),this._tasks=i}this.length+=arguments.length}else n===1?this._tasks=[this._tasks,t]:this._tasks=t,this.length++}function push_rebuild(t,e){var n=this.length;if(n>1)if(e){var s;(s=this._tasks).push.apply(s,arguments),this.length+=arguments.length}else this._tasks.push(t),this.length++;else if(e){if(n===1){var i=Array(1+arguments.length);i.push(i),i.push.apply(i,arguments),this._tasks=i}else{var i=Array(arguments.length);i.push.apply(i,arguments),this._tasks=i}this.length+=arguments.length}else n===1?this._tasks=[this._tasks,t]:this._tasks=t,this.length++;this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}function _fast_remove_single(t,e){e!==-1&&(e===0?t.shift():e===t.length-1?t.length=t.length-1:t.splice(e,1))}taskCollection._fast_remove_single=_fast_remove_single;function removeLast_norebuild(t){this.length!==0&&(this.length===1?this._tasks===t&&(this.length=0):(_fast_remove_single(this._tasks,this._tasks.lastIndexOf(t)),this._tasks.length===1?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length))}function removeLast_rebuild(t){if(this.length!==0){if(this.length===1)if(this._tasks===t&&(this.length=0),this.firstEmitBuildStrategy){this.call=bake_collection_1.BAKED_EMPTY_FUNC;return}else{this.rebuild();return}else _fast_remove_single(this._tasks,this._tasks.lastIndexOf(t)),this._tasks.length===1?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length;this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}}function insert_norebuild(t){for(var e,n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];this.length===0?(this._tasks=n,this.length=1):this.length===1?(n.unshift(this._tasks),this._tasks=n,this.length=this._tasks.length):((e=this._tasks).splice.apply(e,__spreadArrays$1([t,0],n)),this.length=this._tasks.length)}function insert_rebuild(t){for(var e,n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];this.length===0?(this._tasks=n,this.length=1):this.length===1?(n.unshift(this._tasks),this._tasks=n,this.length=this._tasks.length):((e=this._tasks).splice.apply(e,__spreadArrays$1([t,0],n)),this.length=this._tasks.length),this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}function rebuild_noawait(){this.length===0?this.call=bake_collection_1.BAKED_EMPTY_FUNC:this.length===1?this.call=this._tasks:this.call=bake_collection_1.bakeCollection(this._tasks,this.argsNum)}function rebuild_await(){this.length===0?this.call=bake_collection_1.BAKED_EMPTY_FUNC:this.length===1?this.call=this._tasks:this.call=bake_collection_1.bakeCollectionAwait(this._tasks,this.argsNum)}function rebuild_on_first_call(){this.rebuild(),this.call.apply(void 0,arguments)}var TaskCollection=function(){function t(e,n,s,i){n===void 0&&(n=!0),s===void 0&&(s=null),i===void 0&&(i=!1),this.awaitTasks=i,this.call=bake_collection_1.BAKED_EMPTY_FUNC,this.argsNum=e,this.firstEmitBuildStrategy=!0,i?this.rebuild=rebuild_await.bind(this):this.rebuild=rebuild_noawait.bind(this),this.setAutoRebuild(n),s?typeof s=="function"?(this._tasks=s,this.length=1):(this._tasks=s,this.length=s.length):(this._tasks=null,this.length=0),n&&this.rebuild()}return t}();taskCollection.TaskCollection=TaskCollection;function fastClear(){this._tasks=null,this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC}function clear(){this._tasks=null,this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC}function growArgsNum(t){this.argsNum<t&&(this.argsNum=t,this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild())}function setAutoRebuild(t){t?(this.push=push_rebuild.bind(this),this.insert=insert_rebuild.bind(this),this.removeLast=removeLast_rebuild.bind(this)):(this.push=push_norebuild.bind(this),this.insert=insert_norebuild.bind(this),this.removeLast=removeLast_norebuild.bind(this))}function tasksAsArray(){return this.length===0?[]:this.length===1?[this._tasks]:this._tasks}function setTasks(t){t.length===0?(this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC):t.length===1?(this.length=1,this.call=t[0],this._tasks=t[0]):(this.length=t.length,this._tasks=t,this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild())}TaskCollection.prototype.fastClear=fastClear;TaskCollection.prototype.clear=clear;TaskCollection.prototype.growArgsNum=growArgsNum;TaskCollection.prototype.setAutoRebuild=setAutoRebuild;TaskCollection.prototype.tasksAsArray=tasksAsArray;TaskCollection.prototype.setTasks=setTasks;(function(t){function e(n){for(var s in n)t.hasOwnProperty(s)||(t[s]=n[s])}Object.defineProperty(t,"__esModule",{value:!0}),e(taskCollection)})(taskCollection$1);var utils={};Object.defineProperty(utils,"__esModule",{value:!0});function nullObj(){var t={};return t.__proto__=null,t.prototype=null,t}utils.nullObj=nullObj;var __spreadArrays=commonjsGlobal&&commonjsGlobal.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var s=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],r=0,c=o.length;r<c;r++,i++)s[i]=o[r];return s};Object.defineProperty(ee,"__esModule",{value:!0});var task_collection_1=taskCollection$1,utils_1=utils;function emit(t,e,n,s,i,o){var r=this.events[t];return r?r.length===0?!1:(r.argsNum<6?r.call(e,n,s,i,o):r.call.apply(void 0,arguments),!0):!1}function emitHasOnce(t,e,n,s,i,o){var r=this.events[t];if(r){if(r.length===0)return!1;r.argsNum<6?r.call(e,n,s,i,o):r.call.apply(void 0,arguments)}var c=this.onceEvents[t];if(c){if(typeof c=="function")this.onceEvents[t]=void 0,arguments.length<6?c(e,n,s,i,o):c.apply(void 0,arguments);else{var h=c;if(this.onceEvents[t]=void 0,arguments.length<6)for(var u=0;u<h.length;++u)h[u](e,n,s,i,o);else for(var u=0;u<h.length;++u)h[u].apply(void 0,arguments)}return!0}return!!r}var EventEmitter=function(){function t(){this.events=utils_1.nullObj(),this.onceEvents=utils_1.nullObj(),this._symbolKeys=new Set,this.maxListeners=1/0}return Object.defineProperty(t.prototype,"_eventsCount",{get:function(){return this.eventNames().length},enumerable:!0,configurable:!0}),t}();ee.EventEmitter=EventEmitter;function once(t,e){switch(this.emit===emit&&(this.emit=emitHasOnce),typeof this.onceEvents[t]){case"undefined":this.onceEvents[t]=e,typeof t=="symbol"&&this._symbolKeys.add(t);break;case"function":this.onceEvents[t]=[this.onceEvents[t],e];break;case"object":this.onceEvents[t].push(e)}return this}function addListener(t,e,n){if(n===void 0&&(n=e.length),typeof e!="function")throw new TypeError("The listener must be a function");var s=this.events[t];return s?(s.push(e),s.growArgsNum(n),this.maxListeners!==1/0&&this.maxListeners<=s.length&&console.warn('Maximum event listeners for "'+String(t)+'" event!')):(this.events[t]=new task_collection_1.TaskCollection(n,!0,e,!1),typeof t=="symbol"&&this._symbolKeys.add(t)),this}function removeListener(t,e){var n=this.events[t];n&&n.removeLast(e);var s=this.onceEvents[t];return s&&(typeof s=="function"?this.onceEvents[t]=void 0:typeof s=="object"&&(s.length===1&&s[0]===e?this.onceEvents[t]=void 0:task_collection_1._fast_remove_single(s,s.lastIndexOf(e)))),this}function hasListeners(t){return this.events[t]&&!!this.events[t].length}function prependListener(t,e,n){if(n===void 0&&(n=e.length),typeof e!="function")throw new TypeError("The listener must be a function");var s=this.events[t];return!s||!(s instanceof task_collection_1.TaskCollection)?(s=this.events[t]=new task_collection_1.TaskCollection(n,!0,e,!1),typeof t=="symbol"&&this._symbolKeys.add(t)):(s.insert(0,e),s.growArgsNum(n),this.maxListeners!==1/0&&this.maxListeners<=s.length&&console.warn('Maximum event listeners for "'+String(t)+'" event!')),this}function prependOnceListener(t,e){this.emit===emit&&(this.emit=emitHasOnce);var n=this.onceEvents[t];if(!n||typeof n!="object")n=this.onceEvents[t]=[e],typeof t=="symbol"&&this._symbolKeys.add(t);else throw new Error("FIXME");return this}function removeAllListeners(t){return t===void 0?(this.events=utils_1.nullObj(),this.onceEvents=utils_1.nullObj(),this._symbolKeys=new Set):(this.events[t]=void 0,this.onceEvents[t]=void 0,typeof t=="symbol"&&this._symbolKeys.delete(t)),this}function setMaxListeners(t){return this.maxListeners=t,this}function getMaxListeners(){return this.maxListeners}function listeners(t){return this.emit===emit?this.events[t]?this.events[t].tasksAsArray().slice():[]:this.events[t]&&this.onceEvents[t]?__spreadArrays(this.events[t].tasksAsArray(),typeof this.onceEvents[t]=="function"?[this.onceEvents[t]]:this.onceEvents[t]):this.events[t]?this.events[t].tasksAsArray():this.onceEvents[t]?typeof this.onceEvents[t]=="function"?[this.onceEvents[t]]:this.onceEvents[t]:[]}function eventNames(){var t=this;if(this.emit===emit){var e=Object.keys(this.events);return __spreadArrays(e,Array.from(this._symbolKeys)).filter(function(s){return s in t.events&&t.events[s]&&t.events[s].length})}else{var e=Object.keys(this.events).filter(function(i){return t.events[i]&&t.events[i].length}),n=Object.keys(this.onceEvents).filter(function(i){return t.onceEvents[i]&&t.onceEvents[i].length});return __spreadArrays(e,n,Array.from(this._symbolKeys).filter(function(i){return i in t.events&&t.events[i]&&t.events[i].length||i in t.onceEvents&&t.onceEvents[i]&&t.onceEvents[i].length}))}}function listenerCount(t){return this.emit===emit?this.events[t]&&this.events[t].length||0:(this.events[t]&&this.events[t].length||0)+(this.onceEvents[t]&&this.onceEvents[t].length||0)}EventEmitter.prototype.emit=emit;EventEmitter.prototype.on=addListener;EventEmitter.prototype.once=once;EventEmitter.prototype.addListener=addListener;EventEmitter.prototype.removeListener=removeListener;EventEmitter.prototype.hasListeners=hasListeners;EventEmitter.prototype.prependListener=prependListener;EventEmitter.prototype.prependOnceListener=prependOnceListener;EventEmitter.prototype.off=removeListener;EventEmitter.prototype.removeAllListeners=removeAllListeners;EventEmitter.prototype.setMaxListeners=setMaxListeners;EventEmitter.prototype.getMaxListeners=getMaxListeners;EventEmitter.prototype.listeners=listeners;EventEmitter.prototype.eventNames=eventNames;EventEmitter.prototype.listenerCount=listenerCount;(function(t){function e(n){for(var s in n)t.hasOwnProperty(s)||(t[s]=n[s])}Object.defineProperty(t,"__esModule",{value:!0}),e(types),e(ee)})(lib);const fallbackTransition={promise:Promise.resolve()};class PeekAHeader{constructor(e,{autoUpdateTransform:n=!0,transitionStrategy:s,autoAriaHidden:i=!0,autoSnap:o=!1,isTop:r=!1,cacheStaticOffset:c=!0}={}){l(this,"element");l(this,"homeY");l(this,"headerHeight");l(this,"hidden",!1);l(this,"locked",null);l(this,"currentTranslateY",null);l(this,"resizeObserver");l(this,"previousScrollY");l(this,"eventEmitter");l(this,"sticky",null);l(this,"autoUpdateTransform");l(this,"transitionStrategy",null);l(this,"autoAriaHidden",!0);l(this,"autoSnap",!1);l(this,"cachedStaticOffset",null);l(this,"isTop");l(this,"shouldCacheStaticOffset");l(this,"onScrollFunction",()=>{this.onScroll()});l(this,"onScrollEndFunction",()=>{this.onScrollEnd()});this.previousScrollY=window.scrollY,this.element=e;const h=e.getBoundingClientRect();this.homeY=this.calculateHomeY(h),this.headerHeight=h.height,this.autoUpdateTransform=n,this.transitionStrategy=s??null,this.autoAriaHidden=i,this.autoSnap=o,this.isTop=r,this.shouldCacheStaticOffset=c,this.resizeObserver=new ResizeObserver(()=>{this.updateHomeY(),this.updateHeaderHeight()}),this.resizeObserver.observe(e),window.addEventListener("scroll",this.onScrollFunction),window.addEventListener("scrollend",this.onScrollEndFunction),this.eventEmitter=new lib.EventEmitter,this.autoAriaHidden&&(this.on("hidden",()=>{this.element.setAttribute("aria-hidden","true")}),this.on("unhidden",()=>{this.element.setAttribute("aria-hidden","false")})),(h.y>0||window.scrollY<=0)&&this.cacheStaticOffset()}on(e,n){this.eventEmitter.on(e,n)}off(e,n){this.eventEmitter.off(e,n)}cacheStaticOffset(){this.isSticky()&&this.shouldCacheStaticOffset&&this.cachedStaticOffset===null&&(this.cachedStaticOffset=this.getStaticOffset())}emit(e,...n){this.eventEmitter.emit(e,...n)}onScrollEnd(){this.autoSnap&&this.snap()}invalidateSticky(){this.sticky=null,this.isSticky()}isSticky(e=!0){if(e&&this.sticky!==null)return this.sticky;const s=window.getComputedStyle(this.element).position==="sticky";return this.sticky=s,s}applyTransform(){let e;this.currentTranslateY===null?this.hidden?(e="-100%",this.emit("progress",{progress:1,amount:-this.headerHeight})):(e="0px",this.emit("progress",{progress:0,amount:0})):(e=`${this.currentTranslateY}px`,this.emit("progress",{progress:this.currentTranslateY,amount:this.currentTranslateY})),this.autoUpdateTransform&&(this.element.style.transform=`translateY(${e})`)}lock(e="hidden"){switch(e){case"hidden":this.locked=e,this.partialHide();break;case"shown":this.locked=e,this.show();break;case"current":this.locked=this.getTranslateYNumber();break;default:throw new Error(`Unknown lock position ${e}`)}}unlock(){this.locked=null}isLocked(){return this.locked!==null}transitonShow(e=!1){var s;if(e)return fallbackTransition;const n=(s=this.transitionStrategy)==null?void 0:s.show(this.element,{from:{y:this.getTranslateYNumber()},to:{y:0}});return n&&(this.emit("transitionStart"),n.promise.then(()=>{this.emit("transitionEnd")})),n??fallbackTransition}transitionHide(e=!1,n="-100%"){var s;return e?fallbackTransition:((s=this.transitionStrategy)==null?void 0:s.hide(this.element,{from:{y:this.getTranslateYNumber()},to:{y:n}}))??fallbackTransition}async show(e=!0){if(this.getTranslateYNumber()===0)return;const n=this.transitonShow(!e),{applyTransform:s="after",promise:i}=n;this.hidden=!1,this.currentTranslateY=null,s==="before"&&(this.applyTransform(),this.emit("unhidden")),await i,s==="after"&&this.applyTransform(),s!=="before"&&this.emit("unhidden")}async hide(e=!0){if(this.hidden)return;const n=this.transitionHide(!e),{applyTransform:s="after",promise:i}=n;this.hidden=!0,this.currentTranslateY=null,s==="before"&&this.applyTransform(),await i,s==="after"&&this.applyTransform(),this.cacheStaticOffset(),this.emit("hidden")}async partialHide(e=!0){if(!this.isSticky()){this.hide();return}const n=this.getTranslateYNumber(),s=this.element.offsetTop+n,i=this.getStaticOffset(),o=s-i,r=this.headerHeight+n;if(o>=r){await this.hide();return}const c=this.capTranslateY(n-Math.min(o,r));if(n===c)return;this.currentTranslateY=c;const h=this.transitionHide(!e,c),{applyTransform:u="after",promise:f}=h;u==="before"&&this.applyTransform(),await f,u==="after"&&this.applyTransform()}invalidateStaticOffset(){this.cachedStaticOffset=null,(this.hidden||window.scrollY===0||this.element.getBoundingClientRect().y>0)&&this.cacheStaticOffset()}getStaticOffset(e=!0){if(this.isTop)return 0;if(e&&this.cachedStaticOffset!==null)return this.cachedStaticOffset;this.element.style.position="relative";const n=this.element.offsetTop;return this.element.style.position="",this.cachedStaticOffset=n,n}async snap(){this.currentTranslateY!==null&&(this.currentTranslateY>-this.headerHeight/2?await this.show():await this.partialHide())}destroy(){this.resizeObserver.disconnect(),this.eventEmitter.removeAllListeners(),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("scrollend",this.onScrollEnd)}calculateHomeY(e){return(e??this.element.getBoundingClientRect()).top+window.scrollY}updateHomeY(){this.homeY=this.calculateHomeY()}updateHeaderHeight(){this.headerHeight=this.element.getBoundingClientRect().height}capTranslateY(e){const n=Math.max(e,-this.headerHeight);return Math.min(n,0)}getTranslateYNumber(){return this.currentTranslateY?this.currentTranslateY:this.hidden?-this.headerHeight:0}onScroll(){const e=window.scrollY,n=e-this.previousScrollY,s=e<this.homeY?n-(this.homeY-e):n;if(this.previousScrollY=e,s===0)return;const i=s<0?0:1;switch(this.updateHomeY(),i){case 0:if(!this.hidden&&this.currentTranslateY===null)return;break;case 1:if(this.hidden)return;break}if(this.isLocked())return this.isSticky(),void 0;const o=this.getTranslateYNumber(),r=this.capTranslateY(o-s);r===0?(this.currentTranslateY=null,this.hidden=!1,this.emit("unhidden")):r===-this.headerHeight?(this.currentTranslateY=null,this.hidden=!0,this.cacheStaticOffset(),this.emit("hidden")):(this.currentTranslateY=r,this.hidden&&(this.hidden=!1,this.emit("unhidden"))),this.applyTransform()}}const isClassValid=t=>!t.includes(" ")&&t!=="",isClassInvalid=t=>!isClassValid(t);class TransitionClassStrategy{constructor(e){l(this,"showClass");l(this,"hideClass");const{showClass:n,hideClass:s}=e;if(this.showClass=Array.isArray(n)?n:[n],this.hideClass=Array.isArray(s)?s:[s],this.showClass.some(isClassInvalid)||this.hideClass.some(isClassInvalid))throw new Error("Classes cannot contain whitespace or be empty. Split them up in an array first")}hide(e){return this.transition(e,!1)}show(e){return this.transition(e,!0)}transition(e,n){const s=n?this.showClass:this.hideClass;return{promise:new Promise(o=>{const r=()=>{e.classList.remove(...s),o()};e.addEventListener("transitionend",r,{once:!0}),e.classList.add(...s)}),applyTransform:"before"}}}window.addEventListener("DOMContentLoaded",()=>{const t=[],e=new TransitionClassStrategy({showClass:"transition-transforms",hideClass:"transition-transforms"}),n=document.getElementById("peek-a-header-sticky");if(n){const a=new PeekAHeader(n,{transitionStrategy:e});t.push(a)}const s=document.getElementById("peek-a-header-fixed");if(s){const a=new PeekAHeader(s,{transitionStrategy:e});t.push(a)}const i=document.getElementById("peek-a-header-sticky-auto-snap");if(i){const a=new PeekAHeader(i,{transitionStrategy:e,autoSnap:!0});t.push(a)}const o=document.getElementById("hide-button");o&&o.addEventListener("click",()=>{t.forEach(a=>a.hide())});const r=document.getElementById("show-button");r&&r.addEventListener("click",()=>{t.forEach(a=>a.show())});const c=document.getElementById("snap-button");c&&c.addEventListener("click",()=>{t.forEach(a=>a.snap())});const h=document.getElementById("partial-hide-button");h&&h.addEventListener("click",()=>{t.forEach(a=>a.partialHide())});const u=document.getElementById("lock-hidden-button");u&&u.addEventListener("click",()=>{t.forEach(a=>a.lock("hidden"))});const f=document.getElementById("lock-shown-button");f&&f.addEventListener("click",()=>{t.forEach(a=>a.lock("shown"))});const d=document.getElementById("lock-current-button");d&&d.addEventListener("click",()=>{t.forEach(a=>a.lock("current"))});const m=document.getElementById("unlock-button");m&&m.addEventListener("click",()=>{t.forEach(a=>a.unlock())})});
